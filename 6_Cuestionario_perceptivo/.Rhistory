"No, y me cuesta entender \nel significado")))) %>%
mutate(familiar = ordered(familiar, levels = c("Sí, podría decirlo así", "Yo no lo diría así, \npero conozco gente que la usa", "No, nunca he oído o leído algo así, \npero la entiendo bien", "No, y me cuesta entender \nel significado"))) %>%
#mutate(Variante = ifelse(Variante == "Si", "Variante", "Amonesca")) %>%
group_by(Cuantificadores, Variante) %>%
count(familiar) %>%
ungroup() %>%
ggplot(aes(x = Variante, y = n, fill = familiar)) +
geom_bar(position="dodge", stat="identity") +
labs(title="¿Usaría usted una expresión así?", x="Variante",
y="Número de respuestas", fill="Respuestas") +
scale_fill_manual(values=wes_palette(n=4, name="Royal1")) +
facet_wrap(~ Cuantificadores, scales = "free_x")
#Parámetro de familiaridad
#¿Usaría usted una expresión así?
#"1" Sí, podría decirlo así.
#"2" Yo no lo diría así, pero conozco gente que la usa.
#"3" No, nunca he oído o leído algo así, pero la entiendo bien.
#"4" No, y me cuesta entender el significado.
cuestionario_limpio %>%
select(-c("id", "time", "natural", "alternativa")) %>%
mutate(familiar = ifelse(familiar == 1, "Sí, podría decirlo así",
ifelse(familiar == 2, "Yo no lo diría así, \npero conozco gente que la usa",
ifelse(familiar == 3, "No, nunca he oído o leído algo así, \npero la entiendo bien",
"No, y me cuesta entender \nel significado")))) %>%
mutate(familiar = ordered(familiar, levels = c("Sí, podría decirlo así", "Yo no lo diría así, \npero conozco gente que la usa", "No, nunca he oído o leído algo así, \npero la entiendo bien", "No, y me cuesta entender \nel significado"))) %>%
#mutate(Variante = ifelse(Variante == "Si", "Variante", "Amonesca")) %>%
group_by(Cuantificadores, Variante) %>%
count(familiar) %>%
ungroup() %>%
ggplot(aes(x = Variante, y = n, fill = familiar)) +
geom_bar(position="dodge", stat="identity") +
labs(title="¿Usaría usted una expresión así?", x="Variante",
y="Número de respuestas", fill="Respuestas") +
scale_fill_manual(values=wes_palette(n=4, name="Royal1")) +
theme_bs
#Parámetro de familiaridad
#¿Usaría usted una expresión así?
#"1" Sí, podría decirlo así.
#"2" Yo no lo diría así, pero conozco gente que la usa.
#"3" No, nunca he oído o leído algo así, pero la entiendo bien.
#"4" No, y me cuesta entender el significado.
cuestionario_limpio %>%
select(-c("id", "time", "natural", "alternativa")) %>%
mutate(familiar = ifelse(familiar == 1, "Sí, podría decirlo así",
ifelse(familiar == 2, "Yo no lo diría así, \npero conozco gente que la usa",
ifelse(familiar == 3, "No, nunca he oído o leído algo así, \npero la entiendo bien",
"No, y me cuesta entender \nel significado")))) %>%
mutate(familiar = ordered(familiar, levels = c("Sí, podría decirlo así", "Yo no lo diría así, \npero conozco gente que la usa", "No, nunca he oído o leído algo así, \npero la entiendo bien", "No, y me cuesta entender \nel significado"))) %>%
#mutate(Variante = ifelse(Variante == "Si", "Variante", "Amonesca")) %>%
group_by(Cuantificadores, Variante) %>%
count(familiar) %>%
ungroup() %>%
ggplot(aes(x = Variante, y = n, fill = familiar)) +
geom_bar(position="dodge", stat="identity") +
labs(title="¿Usaría usted una expresión así?", x="Variante",
y="Número de respuestas", fill="Respuestas") +
scale_fill_manual(values=wes_palette(n=4, name="Royal1")) +
theme_bw +
facet_wrap(~ Cuantificadores, scales = "free_x")
#Parámetro de familiaridad
#¿Usaría usted una expresión así?
#"1" Sí, podría decirlo así.
#"2" Yo no lo diría así, pero conozco gente que la usa.
#"3" No, nunca he oído o leído algo así, pero la entiendo bien.
#"4" No, y me cuesta entender el significado.
cuestionario_limpio %>%
select(-c("id", "time", "natural", "alternativa")) %>%
mutate(familiar = ifelse(familiar == 1, "Sí, podría decirlo así",
ifelse(familiar == 2, "Yo no lo diría así, \npero conozco gente que la usa",
ifelse(familiar == 3, "No, nunca he oído o leído algo así, \npero la entiendo bien",
"No, y me cuesta entender \nel significado")))) %>%
mutate(familiar = ordered(familiar, levels = c("Sí, podría decirlo así", "Yo no lo diría así, \npero conozco gente que la usa", "No, nunca he oído o leído algo así, \npero la entiendo bien", "No, y me cuesta entender \nel significado"))) %>%
#mutate(Variante = ifelse(Variante == "Si", "Variante", "Amonesca")) %>%
group_by(Cuantificadores, Variante) %>%
count(familiar) %>%
ungroup() %>%
ggplot(aes(x = Variante, y = n, fill = familiar)) +
geom_bar(position="dodge", stat="identity") +
labs(title="¿Usaría usted una expresión así?", x="Variante",
y="Número de respuestas", fill="Respuestas") +
scale_fill_manual(values=wes_palette(n=4, name="Royal1")) +
theme_bw() +
facet_wrap(~ Cuantificadores, scales = "free_x")
#Parámetro de familiaridad
#¿Usaría usted una expresión así?
#"1" Sí, podría decirlo así.
#"2" Yo no lo diría así, pero conozco gente que la usa.
#"3" No, nunca he oído o leído algo así, pero la entiendo bien.
#"4" No, y me cuesta entender el significado.
cuestionario_limpio %>%
select(-c("id", "time", "natural", "alternativa")) %>%
mutate(familiar = ifelse(familiar == 1, "Sí, podría decirlo así",
ifelse(familiar == 2, "Yo no lo diría así, \npero conozco gente que la usa",
ifelse(familiar == 3, "No, nunca he oído o leído algo así, \npero la entiendo bien",
"No, y me cuesta entender \nel significado")))) %>%
mutate(familiar = ordered(familiar, levels = c("Sí, podría decirlo así", "Yo no lo diría así, \npero conozco gente que la usa", "No, nunca he oído o leído algo así, \npero la entiendo bien", "No, y me cuesta entender \nel significado"))) %>%
#mutate(Variante = ifelse(Variante == "Si", "Variante", "Amonesca")) %>%
group_by(Cuantificadores, Variante) %>%
count(familiar) %>%
ungroup() %>%
ggplot(aes(x = Variante, y = n, fill = familiar)) +
geom_bar(position="dodge", stat="identity") +
labs(title="¿Usaría usted una expresión así?", x="Variante",
y="Número de respuestas", fill="Respuestas") +
scale_fill_manual(values=wes_palette(n=4, name="Royal2")) +
theme_bw() +
facet_wrap(~ Cuantificadores, scales = "free_x")
#Parámetro de familiaridad
#¿Usaría usted una expresión así?
#"1" Sí, podría decirlo así.
#"2" Yo no lo diría así, pero conozco gente que la usa.
#"3" No, nunca he oído o leído algo así, pero la entiendo bien.
#"4" No, y me cuesta entender el significado.
cuestionario_limpio %>%
select(-c("id", "time", "natural", "alternativa")) %>%
mutate(familiar = ifelse(familiar == 1, "Sí, podría decirlo así",
ifelse(familiar == 2, "Yo no lo diría así, \npero conozco gente que la usa",
ifelse(familiar == 3, "No, nunca he oído o leído algo así, \npero la entiendo bien",
"No, y me cuesta entender \nel significado")))) %>%
mutate(familiar = ordered(familiar, levels = c("Sí, podría decirlo así", "Yo no lo diría así, \npero conozco gente que la usa", "No, nunca he oído o leído algo así, \npero la entiendo bien", "No, y me cuesta entender \nel significado"))) %>%
#mutate(Variante = ifelse(Variante == "Si", "Variante", "Amonesca")) %>%
group_by(Cuantificadores, Variante) %>%
count(familiar) %>%
ungroup() %>%
ggplot(aes(x = Variante, y = n, fill = familiar)) +
geom_bar(position="dodge", stat="identity") +
labs(title="¿Usaría usted una expresión así?", x="Variante",
y="Número de respuestas", fill="Respuestas") +
scale_fill_manual(values=wes_palette(name="Royal2")[1, 3:5]) +
theme_bw() +
facet_wrap(~ Cuantificadores, scales = "free_x")
#Parámetro de familiaridad
#¿Usaría usted una expresión así?
#"1" Sí, podría decirlo así.
#"2" Yo no lo diría así, pero conozco gente que la usa.
#"3" No, nunca he oído o leído algo así, pero la entiendo bien.
#"4" No, y me cuesta entender el significado.
cuestionario_limpio %>%
select(-c("id", "time", "natural", "alternativa")) %>%
mutate(familiar = ifelse(familiar == 1, "Sí, podría decirlo así",
ifelse(familiar == 2, "Yo no lo diría así, \npero conozco gente que la usa",
ifelse(familiar == 3, "No, nunca he oído o leído algo así, \npero la entiendo bien",
"No, y me cuesta entender \nel significado")))) %>%
mutate(familiar = ordered(familiar, levels = c("Sí, podría decirlo así", "Yo no lo diría así, \npero conozco gente que la usa", "No, nunca he oído o leído algo así, \npero la entiendo bien", "No, y me cuesta entender \nel significado"))) %>%
#mutate(Variante = ifelse(Variante == "Si", "Variante", "Amonesca")) %>%
group_by(Cuantificadores, Variante) %>%
count(familiar) %>%
ungroup() %>%
ggplot(aes(x = Variante, y = n, fill = familiar)) +
geom_bar(position="dodge", stat="identity") +
labs(title="¿Usaría usted una expresión así?", x="Variante",
y="Número de respuestas", fill="Respuestas") +
scale_fill_manual(values=wes_palette(name="Royal2")[1, 3, 4, 5]) +
theme_bw() +
facet_wrap(~ Cuantificadores, scales = "free_x")
#Parámetro de familiaridad
#¿Usaría usted una expresión así?
#"1" Sí, podría decirlo así.
#"2" Yo no lo diría así, pero conozco gente que la usa.
#"3" No, nunca he oído o leído algo así, pero la entiendo bien.
#"4" No, y me cuesta entender el significado.
cuestionario_limpio %>%
select(-c("id", "time", "natural", "alternativa")) %>%
mutate(familiar = ifelse(familiar == 1, "Sí, podría decirlo así",
ifelse(familiar == 2, "Yo no lo diría así, \npero conozco gente que la usa",
ifelse(familiar == 3, "No, nunca he oído o leído algo así, \npero la entiendo bien",
"No, y me cuesta entender \nel significado")))) %>%
mutate(familiar = ordered(familiar, levels = c("Sí, podría decirlo así", "Yo no lo diría así, \npero conozco gente que la usa", "No, nunca he oído o leído algo así, \npero la entiendo bien", "No, y me cuesta entender \nel significado"))) %>%
#mutate(Variante = ifelse(Variante == "Si", "Variante", "Amonesca")) %>%
group_by(Cuantificadores, Variante) %>%
count(familiar) %>%
ungroup() %>%
ggplot(aes(x = Variante, y = n, fill = familiar)) +
geom_bar(position="dodge", stat="identity") +
labs(title="¿Usaría usted una expresión así?", x="Variante",
y="Número de respuestas", fill="Respuestas") +
scale_fill_manual(values=wes_palette(name="Royal2")[c(1, 3, 4, 5)]) +
#scale_fill_manual(values = wes_palette("BottleRocket2")[c(3, 2)]) +
theme_bw() +
facet_wrap(~ Cuantificadores, scales = "free_x")
#Parámetro de familiaridad
#¿Usaría usted una expresión así?
#"1" Sí, podría decirlo así.
#"2" Yo no lo diría así, pero conozco gente que la usa.
#"3" No, nunca he oído o leído algo así, pero la entiendo bien.
#"4" No, y me cuesta entender el significado.
cuestionario_limpio %>%
select(-c("id", "time", "natural", "alternativa")) %>%
mutate(familiar = ifelse(familiar == 1, "Sí, podría decirlo así",
ifelse(familiar == 2, "Yo no lo diría así, \npero conozco gente que la usa",
ifelse(familiar == 3, "No, nunca he oído o leído algo así, \npero la entiendo bien",
"No, y me cuesta entender \nel significado")))) %>%
mutate(familiar = ordered(familiar, levels = c("Sí, podría decirlo así", "Yo no lo diría así, \npero conozco gente que la usa", "No, nunca he oído o leído algo así, \npero la entiendo bien", "No, y me cuesta entender \nel significado"))) %>%
#mutate(Variante = ifelse(Variante == "Si", "Variante", "Amonesca")) %>%
group_by(Cuantificadores, Variante) %>%
count(familiar) %>%
ungroup() %>%
ggplot(aes(x = Variante, y = n, fill = familiar)) +
geom_bar(position="dodge", stat="identity") +
labs(title="¿Usaría usted una expresión así?", x="Variante",
y="Número de respuestas", fill="Respuestas") +
scale_fill_manual(values=wes_palette(name="Royal2")[c(5, 1, 4, 3)]) +
theme_bw() +
facet_wrap(~ Cuantificadores, scales = "free_x")
ggsave("familiaridad_cuestionario_amon.png")
#Parámetro de familiaridad
#¿Usaría usted una expresión así?
#"1" Sí, podría decirlo así.
#"2" Yo no lo diría así, pero conozco gente que la usa.
#"3" No, nunca he oído o leído algo así, pero la entiendo bien.
#"4" No, y me cuesta entender el significado.
cuestionario_limpio %>%
select(-c("id", "time", "natural", "alternativa")) %>%
mutate(familiar = ifelse(familiar == 1, "Sí, podría decirlo así",
ifelse(familiar == 2, "Yo no lo diría así, \npero conozco gente que la usa",
ifelse(familiar == 3, "No, nunca he oído o leído algo así, \npero la entiendo bien",
"No, y me cuesta entender \nel significado")))) %>%
mutate(familiar = ordered(familiar, levels = c("Sí, podría decirlo así", "Yo no lo diría así, \npero conozco gente que la usa", "No, nunca he oído o leído algo así, \npero la entiendo bien", "No, y me cuesta entender \nel significado"))) %>%
#mutate(Variante = ifelse(Variante == "Si", "Variante", "Amonesca")) %>%
group_by(Cuantificadores, Variante) %>%
count(familiar) %>%
ungroup() %>%
ggplot(aes(x = Variante, y = n, fill = familiar)) +
geom_bar(position="dodge", stat="identity") +
labs(title="¿Usaría usted una expresión así?", x="Variante",
y="Número de respuestas", fill="Respuestas") +
scale_fill_manual(values=wes_palette(name="Royal2")[c(5, 1, 4, 3)]) +
scale_x_discrete(guide = guide_axis(n.dodge = 2)) +
theme_bw() +
facet_wrap(~ Cuantificadores, scales = "free_x")
ggsave("familiaridad_cuestionario_amon.png")
cuestionario_limpio
#Alternativas a tanto…cuanto
cuestionario_limpio %>%
filter(Variante == "Estándar_VN")
#Alternativas a tanto…cuanto
cuestionario_limpio %>%
filter(Variante == "Estándar_VN") %>%
filter(is.na(alternativa))
#Alternativas a tanto…cuanto
cuestionario_limpio %>%
filter(Variante == "Estándar_VN") %>%
filter(!is.na(alternativa))
#Alternativas a tanto…cuanto
cuestionario_limpio %>%
filter(Variante == "Estándar_VN") %>%
filter(!is.na(alternativa)) %>%
select(alternativa) %>%
View()
participantes_1 %>%
add_row(participantes_2)
participantes
participantes
##Análisis de la muestra de participantes seleccionada
#edad
summary(participantes$birthyear)
participantes %>%
count(birthyear)
2021-18
participantes %>%
filter(birthyear > 2003)
participantes %>%
filter(birthyear > 2002)
cuestionario %>%
#agrupamos por usuario
group_by(id) %>%
#generamos z-scores
mutate(natural_normalizado = scale(natural)) %>%
ungroup() %>%
#ahora ya seleccionamos solo los inputs de las de Amón
right_join(inputs_amon_tb) %>%
#y nos quedamos con los participantes españoles
right_join(participantes) %>%
#quitamos a un participante que respondió siempre que le sonaba natural y por eso es NaN
filter(!is.na(natural_normalizado)) %>%
filter(birthyear > 2002)
cuestionario %>%
#agrupamos por usuario
group_by(id) %>%
#generamos z-scores
mutate(natural_normalizado = scale(natural)) %>%
ungroup() %>%
#ahora ya seleccionamos solo los inputs de las de Amón
right_join(inputs_amon_tb) %>%
#y nos quedamos con los participantes españoles
right_join(participantes) %>%
#quitamos a un participante que respondió siempre que le sonaba natural y por eso es NaN
filter(!is.na(natural_normalizado)) %>%
filter(birthyear > 2002) %>%
distinct(id)
cuestionario_limpio
cuestionario %>%
#agrupamos por usuario
group_by(id) %>%
#generamos z-scores
mutate(natural_normalizado = scale(natural)) %>%
ungroup() %>%
#ahora ya seleccionamos solo los inputs de las de Amón
right_join(inputs_amon_tb) %>%
#y nos quedamos con los participantes españoles
right_join(participantes) %>%
#quitamos a un participante que respondió siempre que le sonaba natural y por eso es NaN
filter(!is.na(natural_normalizado)) %>%
filter(!birthyear > 2002)
participantes
participantes_1 %>%
add_row(participantes_2) %>%
#limpiar países (nos vamos a quedar solo con los españoles)
mutate(country = trimws(country)) %>%
mutate(country = tolower(country)) %>%
mutate(country = ifelse(str_detect(country, "(^es|^bar)"), "españa", country)) %>%
#nos quedamos solo con los españoles
filter(country == "españa") %>%
mutate(lengua = trimws(lengua)) %>%
mutate(lengua = tolower(lengua)) %>%
#nueva columna con los que saben inglés/francés o italiano y los demás
mutate(lengua_amonesca = ifelse(str_detect(lengua, "(ingl[eé]s|\\ben\\b|franc[ée]s|italiano)"), "en., fr., it.",
ifelse(str_detect(lengua, "\\d"), NA, "otras / ninguna"))) %>%
filter(!birthyear > 2002)
#juntarlas y limpiarlas
participantes <- participantes_1 %>%
add_row(participantes_2) %>%
#limpiar países (nos vamos a quedar solo con los españoles)
mutate(country = trimws(country)) %>%
mutate(country = tolower(country)) %>%
mutate(country = ifelse(str_detect(country, "(^es|^bar)"), "españa", country)) %>%
#nos quedamos solo con los españoles
filter(country == "españa") %>%
mutate(lengua = trimws(lengua)) %>%
mutate(lengua = tolower(lengua)) %>%
#nueva columna con los que saben inglés/francés o italiano y los demás
mutate(lengua_amonesca = ifelse(str_detect(lengua, "(ingl[eé]s|\\ben\\b|franc[ée]s|italiano)"), "en., fr., it.",
ifelse(str_detect(lengua, "\\d"), NA, "otras / ninguna"))) %>%
filter(!birthyear > 2002)
##Análisis de la muestra de participantes seleccionada
#edad
summary(participantes$birthyear)
2021-1963
2021-1987
#estudios
##tabla
participantes %>%
mutate(estudios = ifelse(estudios == 1, "Educación Primaria",
ifelse(estudios == 2, "Educación Secundaria",
ifelse(estudios == 3, "Formación profesional",
ifelse(estudios == 4, "Título Universitario",
"Posgrado Universitario"))))) %>%
count(estudios)
#estudios
##tabla
participantes %>%
mutate(estudios = ifelse(estudios == 1, "Educación Primaria",
ifelse(estudios == 2, "Educación Secundaria",
ifelse(estudios == 3, "Formación profesional",
ifelse(estudios == 4, "Título Universitario",
"Posgrado Universitario"))))) %>%
count(estudios) %>%
mutate(total = sum(n),
perc = round(n/total*100, 1))
#estudios
##tabla
participantes %>%
mutate(estudios = ifelse(estudios == 1, "Educación Primaria",
ifelse(estudios == 2, "Educación Secundaria",
ifelse(estudios == 3, "Formación profesional",
ifelse(estudios == 4, "Título Universitario",
"Posgrado Universitario"))))) %>%
count(estudios) %>%
mutate(total = sum(n),
perc = round(n/total*100, 0))
48+59
#lengua
participantes %>%
count(lengua_amonesca) %>%
mutate(total = sum(n),
perc = round(n/total*100, 0))
participantes %>%
mutate(region_lower = tolower(region)) %>%
mutate(region = ifelse(str_detect(region_lower, "madrid"), "Madrid",
ifelse(str_detect(region_lower, "vasco|bizk|guip"), "País Vasco", region))) %>%
ggplot(aes(x = region, fill = region)) +
geom_bar() +
labs(title="Región de los participantes", x="Región",
y="Número de participantes")
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = trimws(region)) %>%
count(region)
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = trimws(region)) %>%
count(region) %>%
filter(str_detect(region, "\\(.+\\)"))
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = trimws(region)) %>%
count(region) %>%
mutate(region = str_remove(region, "\\(.+\\)")) %>%
filter(str_detect(region, "\\(.+\\)"))
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = str_remove(region, "\\(.+\\)")) %>%
mutate(region = trimws(region)) %>%
count(region) %>%
filter(str_detect(region, "\\(.+\\)"))
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = str_remove(region, "\\(.+\\)")) %>%
mutate(region = trimws(region)) %>%
count(region) #%>%
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = str_remove(region, "\\(.+\\)")) %>%
mutate(region = trimws(region)) %>%
count(region) %>% View()
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = str_remove(region, "\\(.+\\)")) %>%
mutate(region = trimws(region)) %>%
mutate(region = ifelse(str_detect(region_lower, "vasco|bizk|guip"), "país vasco", region)) %>%
count(region) %>% View()
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = str_remove(region, "\\(.+\\)")) %>%
mutate(region = trimws(region)) %>%
mutate(region = ifelse(str_detect(region, "vasco|bizk|guip"), "país vasco", region)) %>%
count(region) %>% View()
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = str_remove(region, "\\(.+\\)")) %>%
mutate(region = trimws(region)) %>%
mutate(region = ifelse(str_detect(region, "vasco|bizk|guip"), "país vasco", region)) %>%
mutate(region = str_replace_all(region, "ó", "o")) %>%
mutate(region = str_replace_all(region, "ny", "ñ")) %>%
count(region) %>% View()
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = str_remove(region, "\\(.+\\)")) %>%
mutate(region = trimws(region)) %>%
mutate(region = ifelse(str_detect(region, "vasco|bizk|guip|eusk"), "país vasco", region)) %>%
mutate(region = str_replace_all(region, "ó", "o")) %>%
mutate(region = str_replace_all(region, "ny", "ñ")) %>%
count(region) %>% View()
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = str_remove(region, "\\(.+\\)|, barc.+|soria, | me")) %>%
mutate(region = trimws(region)) %>%
mutate(region = ifelse(str_detect(region, "vasco|bizk|guip|eusk"), "país vasco", region)) %>%
mutate(region = str_replace_all(region, "ó", "o")) %>%
mutate(region = str_replace_all(region, "ny", "ñ")) %>%
count(region) %>% View()
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = str_remove(region, "\\(.+\\)|, barc.+|soria, | me")) %>%
mutate(region = trimws(region)) %>%
mutate(region = str_replace_all(region, "ó", "o")) %>%
mutate(region = str_replace_all(region, "ny", "ñ")) %>%
mutate(region = ifelse(str_detect(region, "vasco|bizk|guip|eusk"), "país vasco", region)) %>%
mutate(region = ifelse(str_detect(region, "leon|salamanca"), "castilla y leon", region)) %>%
mutate(region = ifelse(str_detect(region, "sevilla|jaén"), "andalucía", region)) %>%
count(region) %>% View()
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = str_remove(region, "\\(.+\\)|, barc.+|soria, | me")) %>%
mutate(region = trimws(region)) %>%
mutate(region = str_replace_all(region, "ó", "o")) %>%
mutate(region = str_replace_all(region, "ny", "ñ")) %>%
mutate(region = ifelse(str_detect(region, "vasco|bizk|guip|eusk"), "país vasco", region)) %>%
mutate(region = ifelse(str_detect(region, "leon|salamanca"), "castilla y leon", region)) %>%
mutate(region = ifelse(str_detect(region, "sevilla|jaén"), "andalucía", region)) %>%
mutate(region = ifelse(str_detect(region, "zaragoza"), "aragon", region)) %>%
mutate(region = ifelse(str_detect(region, "cuenca"), "castilla la mancha", region)) %>%
count(region) %>% View()
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = str_remove(region, "\\(.+\\)|, barc.+|soria, | me")) %>%
mutate(region = trimws(region)) %>%
mutate(region = str_replace_all(region, "ó", "o")) %>%
mutate(region = str_replace_all(region, "ny", "ñ")) %>%
mutate(region = ifelse(str_detect(region, "vasco|bizk|guip|eusk"), "país vasco", region)) %>%
mutate(region = ifelse(str_detect(region, "leon|salamanca"), "castilla y leon", region)) %>%
mutate(region = ifelse(str_detect(region, "sevilla|jaén|granada"), "andalucía", region)) %>%
mutate(region = ifelse(str_detect(region, "zaragoza"), "aragon", region)) %>%
mutate(region = ifelse(str_detect(region, "cuenca"), "castilla la mancha", region)) %>%
count(region) %>% View()
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = str_remove(region, "\\(.+\\)|, barc.+|soria, | me")) %>%
mutate(region = trimws(region)) %>%
mutate(region = str_replace_all(region, "ó", "o")) %>%
mutate(region = str_replace_all(region, "ny", "ñ")) %>%
mutate(region = ifelse(str_detect(region, "vasco|bizk|guip|eusk"), "país vasco", region)) %>%
mutate(region = ifelse(str_detect(region, "leon|salamanca"), "castilla y leon", region)) %>%
mutate(region = ifelse(str_detect(region, "sevilla|jaén|granada"), "andalucía", region)) %>%
mutate(region = ifelse(str_detect(region, "zaragoza"), "aragon", region)) %>%
mutate(region = ifelse(str_detect(region, "cuenca"), "castilla la mancha", region)) %>%
count(region, sort = T)
participantes %>%
mutate(region = tolower(region)) %>%
mutate(region = str_remove(region, "\\(.+\\)|, barc.+|soria, | me")) %>%
mutate(region = trimws(region)) %>%
mutate(region = str_replace_all(region, "ó", "o")) %>%
mutate(region = str_replace_all(region, "ny", "ñ")) %>%
mutate(region = ifelse(str_detect(region, "vasco|bizk|guip|eusk"), "país vasco", region)) %>%
mutate(region = ifelse(str_detect(region, "leon|salamanca"), "castilla y leon", region)) %>%
mutate(region = ifelse(str_detect(region, "sevilla|jaén|granada"), "andalucía", region)) %>%
mutate(region = ifelse(str_detect(region, "zaragoza"), "aragon", region)) %>%
mutate(region = ifelse(str_detect(region, "cuenca"), "castilla la mancha", region)) %>%
mutate(region = ifelse(str_detect(region, "ibiza"), "baleares", region)) %>%
count(region, sort = T) %>%
mutate(total = sum(n),
perc = round(n/total*100, 0))
